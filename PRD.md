行，进入第二环节，给你把 **PRD** 摆齐。

---

# 《超市 AI 营销系统》

**PRD · 产品需求文档（第二次输出）**

---

## 一、项目名称

* **中文名称：** 超市 AI 营销系统
* **用途说明：** 面向课堂教学与本科毕业设计答辩的本地运行演示系统，用于展示基于历史销售数据的营销分析与决策支持能力。

---

## 二、系统定位

本系统定位为：

> 基于历史销售数据的本地化营销分析与辅助决策系统，
> 以「能跑可演示」为目标，为超市管理人员提供客户推荐、商品促销分析、销售预测及客户分群等功能，同时支持语音播报结果，用于教学演示与毕业设计展示。

特点：

* 面向单机环境运行，用于课堂与答辩演示；
* 使用经典统计与机器学习方法，而非大规模在线服务；
* 不接入真实生产系统，不牵涉真实业务风险。

---

## 三、用户角色

| 角色          | 描述                              | 主要诉求                        |
| ----------- | ------------------------------- | --------------------------- |
| 超市管理人员（模拟）  | 在系统中查看各类分析结果的“业务用户”，现实中由老师或同学扮演 | 快速获取推荐商品、促销建议、销售预测及客户分群结论   |
| 数据分析人员（模拟）  | 负责导入数据、调整分析参数的角色，现实中由开发学生扮演     | 能够方便地导入数据、配置算法参数、查看分析过程和结果  |
| 授课教师 / 答辩评委 | 观察系统运行效果与功能完整度的人                | 关注功能覆盖情况、运行稳定性、算法选择合理性及可解释性 |
| 系统开发者（学生）   | 实际开发与演示系统的学生本人                  | 需要结构清晰的功能模块与简单可实现的技术路线      |

> 实际演示过程中，前两类角色均由学生通过不同操作场景来模拟。

---

## 四、典型使用场景

### 场景 1：查看客户个性化推荐

1. “管理人员”在主界面选择「客户推荐」功能；
2. 输入或选择某个客户 ID；
3. 系统展示该客户的历史购物清单与推荐商品列表；
4. 管理人员查看推荐理由（例如：同品类高频商品、关联购买商品等）；
5. 可选择播报该客户的推荐摘要语音。

### 场景 2：制定商品促销清单

1. 管理人员在主界面选择「商品促销分析」；
2. 设置或采用默认促销规则参数（如销量上/下限、利润率阈值等）；
3. 系统根据当前规则筛选出促销候选商品列表；
4. 管理人员查看每个商品的销量、利润、折扣等指标；
5. 可将促销清单导出为 CSV / Excel，以便后续汇报使用；
6. 选择「语音播报」快速了解促销建议概览。

### 场景 3：预测未来销售额和利润

1. 管理人员在主界面选择「销售预测」；
2. 选择时间粒度（默认按月）以及预测周期长度（如未来 3 个月）；
3. 系统展示历史销售额/利润曲线与预测曲线；
4. 管理人员通过图表查看趋势，并在面板中读取具体预测数值；
5. 启动语音播报，播放「未来 N 个月销售额与利润的摘要说明」。

### 场景 4：客户聚类与营销策略制定

1. 管理人员在主界面选择「客户聚类分析」；
2. 设置或采用默认聚类数量（例如 K = 4）；
3. 系统计算 RFM 指标并执行聚类，输出各分群的客户数量与平均 R/F/M 值；
4. 管理人员查看每个分群的业务解释（如高价值、潜力、沉睡等）；
5. 可导出特定分群的客户列表，用于后续制定针对性营销策略；
6. 可语音播报分群概览内容。

### 场景 5：课堂 / 答辩演示

1. 开发者提前运行系统并导入样例数据集；
2. 在 10 分钟内按顺序演示：

   * 数据导入与预处理概览；
   * 客户推荐；
   * 商品促销分析；
   * 销售预测；
   * 客户聚类；
   * 语音播报功能；
3. 过程中简要解释所采用的算法与参数选择理由；
4. 通过语音播报增加演示的直观性和记忆点。

---

## 五、功能列表与说明（含优先级）

### 5.1 总体功能列表

| 功能编号 | 功能名称        | 功能说明                               | 优先级    |
| ---- | ----------- | ---------------------------------- | ------ |
| F01  | 数据导入与清洗     | 从 CSV 文件读取原始销售数据，完成字段映射、类型转换与缺失值处理 | Must   |
| F02  | 客户购物清单构建    | 按订单 ID 合并订单明细，并按客户 ID 进一步汇总形成购物清单  | Must   |
| F03  | 客户个性化推荐     | 基于历史购买记录，生成 Top N 推荐商品列表           | Must   |
| F04  | 商品指标计算      | 计算每个商品的销售额、数量、利润、折扣、利润率等指标         | Must   |
| F05  | 促销候选筛选      | 根据配置的规则筛选适合参与促销活动的商品清单             | Must   |
| F06  | 销售数据按时间聚合   | 按日期/月份聚合销售额和利润，为预测提供输入             | Must   |
| F07  | 销售额与利润预测    | 通过回归模型预测未来一段时间的销售额与利润              | Must   |
| F08  | 客户 RFM 指标计算 | 对每个客户计算最近消费、消费频次与消费金额              | Must   |
| F09  | 客户聚类分析      | 使用 KMeans 对 RFM 指标进行聚类并输出分群结果      | Must   |
| F10  | 聚类分群解释      | 对各聚类结果进行业务命名与特征说明                  | Should |
| F11  | 结果语音播报      | 将推荐结果、促销建议、预测结论等转换为语音播放            | Must   |
| F12  | 命令行主菜单界面    | 提供统一菜单导航，让用户选择不同功能模块               | Must   |
| F13  | 图表可视化展示     | 展示销售趋势、聚类结果分布等图表                   | Should |
| F14  | 结果导出        | 将推荐列表、促销清单、分群客户列表导出为 CSV/Excel 文件  | Should |
| F15  | 参数配置界面      | 在界面中调整聚类数量、阈值等关键参数                 | Should |
| F16  | 简单图形界面（可选）  | 使用 Tkinter 提供按钮式操作界面               | Could  |

### 5.2 关键功能详细说明

#### F01 数据导入与清洗（Must）

* 支持选择 CSV 文件路径或使用默认路径；
* 进行字段名称规范化、数据类型转换（日期、数值等）；
* 处理缺失值与异常数据（如折扣范围检查）。

#### F03 客户个性化推荐（Must）

* 输入：客户 ID，推荐数量 N（默认 5）；
* 输出：推荐商品列表，包含商品名称、子类别、简要推荐理由；
* 推荐逻辑示例：

  * 结合客户高频购买的品类，推荐同品类中畅销而未购买过的商品；
  * 可选：根据简单关联规则分析“买 A 的人常搭配购买 B”。

#### F05 促销候选筛选（Must）

* 输入：销量阈值、利润率阈值、最近时间窗口等参数；
* 输出：促销候选商品列表，附带当前销量、利润、利润率信息；
* 支持按规则组合筛选，例如：

  * 销量偏低且利润率偏高；
  * 销量较高但利润率偏低，用于引流促销。

#### F07 销售额与利润预测（Must）

* 输入：预测周期长度（如未来 3 个月）、时间粒度（默认按月）；
* 过程：构造时间索引特征，使用线性回归等简单模型训练；
* 输出：表格与折线图，展示历史值与预测值。

#### F09 客户聚类分析（Must）

* 输入：聚类数 K（默认 4）；
* 过程：计算 R/F/M 指标并标准化，再执行 KMeans 聚类；
* 输出：

  * 每类客户数量与平均 R/F/M 指标；
  * 各客户对应的聚类标签。

#### F11 结果语音播报（Must）

* 支持选择需要播报的内容类型：

  * 某客户的推荐摘要；
  * 促销商品汇总；
  * 销售预测概览；
  * 客户分群概览；
* 自动生成简短中文文本，并通过本地 TTS 输出声音。

---

## 六、项目边界（明确不做的内容）

为保证项目工作量可控，本系统明确 **不包含** 以下内容：

1. **不做线上部署与并发访问**

   * 不涉及 Web 服务器、移动端 APP、小程序等在线访问形式；
   * 不考虑多用户并发访问与权限控制问题。

2. **不接入真实业务系统**

   * 不对接真实超市的收银系统或库存系统；
   * 仅使用课程提供的离线 CSV 数据集进行分析。

3. **不涉及支付与结算功能**

   * 无购物流程模拟；
   * 不涉及第三方支付、对账、安全加密等模块。

4. **不做复杂推荐系统**

   * 不使用大规模协同过滤、深度学习推荐模型；
   * 仅采用基于规则与简单统计/关联的推荐策略。

5. **不做大规模分布式架构**

   * 不采用微服务、集群、消息队列等复杂技术栈；
   * 所有逻辑集中在单机 Python 程序中完成。

6. **不进行真实财务决策**

   * 所有结果仅为教学与演示用途；
   * 不直接作为实际超市价格调整或促销方案的依据。

---

## 七、验收标准（答辩展示用）

系统的验收从「功能是否能演示」和「说明是否清楚」两个维度进行。

### 7.1 功能验收标准

1. **数据导入与预处理**

   * 能成功读取提供的 CSV 数据文件；
   * 控制台或界面能显示读取成功提示及数据条数。

2. **客户推荐功能**

   * 输入任意一个存在的客户 ID；
   * 能显示该客户历史购物清单和至少 3 个推荐商品；
   * 推荐理由描述清晰、逻辑合理。

3. **商品促销分析功能**

   * 设置或使用默认规则后，能生成非空的促销候选商品列表；
   * 促销清单中展示销量、利润、利润率等关键指标；
   * 可导出为 CSV/Excel 文件（若实现 F14）。

4. **销售预测功能**

   * 能展示历史销售额/利润曲线；
   * 能给出未来指定周期的预测值；
   * 图表中能区分实际值与预测值。

5. **客户聚类分析功能**

   * 能完成 RFM 计算与聚类过程；
   * 输出每个聚类的客户数量与主要特征；
   * 能查看某一类客户的部分样例列表。

6. **语音播报功能**

   * 至少支持播报一种分析结果（推荐/促销/预测/聚类）；
   * 语音内容与屏幕显示内容在含义上保持一致；
   * 播放过程稳定，无明显错误。

7. **界面与交互**

   * 能从主菜单进入各功能子模块并正常返回；
   * 控制台提示信息清晰，错误输入时有中文错误提示；
   * 系统运行过程无明显报错中断。

### 7.2 说明与展示验收标准

1. 开发者能够简要说明：

   * 各模块之间的关系与数据流向；
   * 主要算法的选择原因（如线性回归、KMeans、简单规则等）；
   * 不同参数调整对结果的影响。

2. 演示过程在 10 分钟内完成：

   * 带老师/评委快速走完一个完整的“导入数据 → 分析 → 结果播报”的闭环；
   * 演示顺序清晰，无大段卡顿或调试行为。

3. 文档与代码一致：

   * PDR/PRD 内容与最终代码实现基本一致；
   * 功能优先级划分合理，未实现的 Should/Could 功能在答辩中能说明原因。
